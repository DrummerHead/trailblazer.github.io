<!doctype html>
<html class="no-js">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title> - </title>
    <meta name="description" content=" - " />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="keywords" content=", " />

    <!-- CSS  Get: http://www.google.com/fonts/
    http://stackoverflow.com/questions/7985081/how-to-deploy-a-jekyll-site-locally-with-css-js-and-background-images-included
    ================================================== -->
    <link href="//fonts.googleapis.com/css?family=Open+Sans:400,700,800|Raleway:400,200,700" rel="stylesheet" type="text/css">
    <!-- Fount Awesome -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">

    <link rel="stylesheet" href="css/style.css" />
    <link rel="shortcut icon" href="favicon.ico">
    <meta property="og:title" content=""/>
    <meta property="og:site_name" content=" - "/>
    <meta property="og:url" content=" - "/>
    <meta property="og:description" content=""/>
    <meta property="og:image" content=""/>
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@">
    <meta name="twitter:title" content="">
    <meta name="twitter:description" content="">
    <meta name="twitter:image" content="">
    <script src="bower_components/modernizr/modernizr.js"></script>
  </head>

  <body>
    <!-- Top Bar -->
    <nav class="top-bar" data-topbar role="navigation">
  <ul class="title-area">
    <li class="name">
      <h1><a href="#">Trailblazer</a></h1>
    </li>
    <li class="toggle-topbar menu-icon"><a href="#"><span>Menu</span></a></li>
  </ul>

  <section class="top-bar-section">
    <ul class="right">
      <li class="active"><a href="#">Right Button Active</a></li>
    </ul>
  </section>
</nav>


    <!-- Hero -->
    <div class="hero">
  <div class="hero-unit">
    <div class="row">
      <div class="columns">
        <h1 id="project_title">
          <!-- <a href="#"><img src="/images/icon_trb.png">
          </a> -->
          Trailblazer
        </h1>
        <h2>A new architecture for Rails</h2>
      </div>
    </div>
  </div>
</div>



    <div class="row">
      <div class="columns large-3">
        <!--    <a href="https://github.com/trailblazer/www.trailblazerb.org" class="button">View on GitHub</a>
        <a class="button" href="https://github.com/trailblazer/www.trailblazerb.org/zipball/master">Download this project as a .zip file</a>
        <a class="button" href="https://github.com/trailblazer/www.trailblazerb.org/tarball/master">Download this project as a tar.gz file</a> -->

<ul class="side-nav">
  <li><a href="#">Link 1</a></li>
  <li><a href="#">Link 2</a></li>
  <li><a href="#">Link 3</a></li>
  <li><a href="#">Link 4</a></li>
</ul>

      </div>
      <div class="columns medium-9">
        <h1 id="testing">Testing</h1>

<p>Only a few methods are needed to integrate cells testing into your test suite. This is implemented in <code>Cell::Testing</code>.</p>

<h2 id="api">API</h2>

<p>Regardless of your test environment (Rspec, MiniTest, etc.) the following methods are available.</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">module</span> <span class="nn">Testing</span>
  <span class="n">concept</span><span class="p">(</span><span class="nb">name</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span> <span class="c1"># instantiates Cell::Concept subclass.</span>
  <span class="n">cell</span><span class="p">(</span><span class="nb">name</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span> <span class="c1"># instantiates Cell::ViewModel subclass.</span>
<span class="k">end</span></code></pre></div>

<p>Calling the two helpers does exactly the same it does in a controller or a view.</p>

<p>Usually, this will give you the cell instance. It’s your job to invoke a state using <code>#call</code>.</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">it</span> <span class="s2">&quot;renders cell&quot;</span> <span class="k">do</span>
  <span class="n">cell</span><span class="p">(</span><span class="ss">:song</span><span class="p">,</span> <span class="vi">@song</span><span class="p">)</span><span class="o">.</span><span class="p">()</span> <span class="c1">#=&gt; HTML / Capybara::Node::Simple</span>
<span class="k">end</span></code></pre></div>

<p>However, when invoked with <code>:collection</code>, it will render the cell collection for you. In that case, <code>#cell</code>/<code>#concept</code> will return a string of markup.</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">it</span> <span class="s2">&quot;renders collection&quot;</span> <span class="k">do</span>
  <span class="n">cell</span><span class="p">(</span><span class="ss">:song</span><span class="p">,</span> <span class="ss">collection</span><span class="p">:</span> <span class="o">[</span><span class="vi">@song</span><span class="p">,</span> <span class="vi">@song</span><span class="o">]</span><span class="p">)</span> <span class="c1">#=&gt; HTML</span>
<span class="k">end</span></code></pre></div>

<h2 id="minitest-testunit">MiniTest, Test::Unit</h2>

<p>In case you’re <em>not</em> using Rspec, derive your tests from <code>Cell::TestCase</code>.</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">class</span> <span class="nc">SongCellTest</span> <span class="o">&lt;</span> <span class="no">Cell</span><span class="o">::</span><span class="no">TestCase</span>
  <span class="n">it</span> <span class="s2">&quot;renders&quot;</span> <span class="k">do</span>
    <span class="n">cell</span><span class="p">(</span><span class="ss">:song</span><span class="p">,</span> <span class="vi">@song</span><span class="p">)</span><span class="o">.</span><span class="p">()</span><span class="o">.</span><span class="n">must_have_selector</span> <span class="s2">&quot;b&quot;</span>
  <span class="k">end</span>
<span class="k">end</span></code></pre></div>

<p>You can also include <code>Cell::Testing</code> into an arbitrary test class if you’re not happy with <code>Cell::TestCase</code>.</p>

<h3 id="optional-controller">Optional Controller</h3>

<p>If your cells have a controller dependency, you can set it using <code>::controller</code>.</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">class</span> <span class="nc">SongCellTest</span> <span class="o">&lt;</span> <span class="no">Cell</span><span class="o">::</span><span class="no">TestCase</span>
  <span class="n">controller</span> <span class="no">SongsController</span></code></pre></div>

<p>This will provide a testable controller via <code>#controller</code>, which is automatically used in <code>Testing#concept</code> and <code>Testing#cell</code>.</p>

<h2 id="rspec">Rspec</h2>

<p>Rspec works out of the box. You can use the <code>#cell</code> and <code>#concept</code> builders in your specs.</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">describe</span> <span class="no">SongCell</span><span class="p">,</span> <span class="ss">type</span><span class="p">:</span> <span class="ss">:cell</span> <span class="k">do</span>
  <span class="n">subject</span> <span class="p">{</span> <span class="n">cell</span><span class="p">(</span><span class="ss">:song</span><span class="p">,</span> <span class="no">Song</span><span class="o">.</span><span class="n">new</span><span class="p">)</span><span class="o">.</span><span class="p">(</span><span class="ss">:show</span><span class="p">)</span> <span class="p">}</span>

  <span class="n">it</span> <span class="p">{</span> <span class="n">expect</span><span class="p">(</span><span class="n">subject</span><span class="p">)</span><span class="o">.</span><span class="n">to</span> <span class="n">have_content</span> <span class="s2">&quot;Song#show&quot;</span> <span class="p">}</span>
<span class="k">end</span></code></pre></div>

<h3 id="optional-controller-1">Optional Controller</h3>

<p>If your cells have a controller dependency, you can set it using <code>::controller</code>.</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">describe</span> <span class="no">SongCell</span> <span class="k">do</span>
  <span class="n">controller</span> <span class="no">SongsController</span></code></pre></div>

<p>This will provide a testable controller via <code>#controller</code>.</p>

<h2 id="capybara-support">Capybara Support</h2>

<p>Per default, Capybara support is enabled in <code>Cell::TestCase</code> when the Capybara gem is loaded.</p>

<p>The only extension is that the result of <code>Cell#call</code> is wrapped into a <code>Capybara::Node::Simple</code> instance, which allows to call matchers on the result.</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">cell</span><span class="p">(</span><span class="ss">:song</span><span class="p">,</span> <span class="vi">@song</span><span class="p">)</span><span class="o">.</span><span class="p">()</span><span class="o">.</span><span class="n">must_have_selector</span> <span class="s2">&quot;b&quot;</span> <span class="c1"># example for MiniTest::Spec.</span></code></pre></div>

<p>In case you need access to the actual markup string, use <code>#to_s</code>. Note that this is a Cells-specific extension.</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">cell</span><span class="p">(</span><span class="ss">:song</span><span class="p">,</span> <span class="vi">@song</span><span class="p">)</span><span class="o">.</span><span class="p">()</span><span class="o">.</span><span class="n">to_s</span><span class="o">.</span><span class="n">must_match</span> <span class="s2">&quot;by SNFU&quot;</span> <span class="c1"># example for MiniTest::Spec.</span></code></pre></div>

<p>You can disable Capybara for Cells even when the gem is loaded.</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="no">Cell</span><span class="o">::</span><span class="no">Testing</span><span class="o">.</span><span class="n">capybara</span> <span class="o">=</span> <span class="kp">false</span></code></pre></div>

      </div>
    </div>

    <!-- The Book -->
    <div class="row">
      <div class="columns">
        <h2>The Book</h2>
<div class="row">
  <div class="columns medium-3">
    <a href="https://leanpub.com/trailblazer">
    <img src="images/3dbuch-freigestellt.png" />
    </a>
  </div>

  <div class="columns medium-9">
    <p>Yes, there's a book!</p>
    <p>Written by the busy creator of Trailblazer, it is about 70% finished and will get another 150 pages, making it 300 pages full of wisdom about Trailblazer and all the gems.</p>

    <p>If you want to learn about this project and if you feel like supporting Open-Source, please <a href="https://leanpub.com/trailblazer">buy and read it</a> and let us know what you think.</p>
  </div>
</div>

      </div>
    </div>


    <!-- Testimonials -->
    <div class="row">
      <div class="columns">
        <h2>
  Testimonials
</h2>

<blockquote>
  At some point of time we started to decouple our form objects from models. Things got a lot easier when we found out there is a ready to use solution which solves our exact problem. That was Reform. Soon after, we started using all other parts of Trailblazer and haven't regretted a second of our time we spent using it.
  <cite>Igor Pstyga, Shop Hers Inc</cite>
</blockquote>

<blockquote>
  Here at Chefsclub, we are very happy with Trailblazer. Our application already has 32 concepts, 130+ operations, and Cells surprised us as an awesome feature. We feel pretty safe with it.
  <cite>Paulo Fabiano Langer, Chefsclub</cite>
</blockquote>

<blockquote>
  Trailblazer helps organize my code, the book showed me how. You can assume what each component does by its name, it's very easy and intuitive, it should be shipped as an essential part of Rails.
  <cite>Yuri Freire Lima, AzClick</cite>
</blockquote>

      </div>
    </div>


    <!-- Footer -->
    <footer>
  <div class="row">
    <div class="columns">
      <p>Trailblazer maintained by <a href="https://github.com/trailblazer">trailblazer</a></p>
    </div>
  </div>
</footer>




    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="bower_components/jquery/jquery.js"><\/script>')</script>
    <script src="js/plugins.js"></script>
    <script src="bower_components/foundation/js/foundation.min.js"></script>
    <script src="js/script.js"></script>

  </body>
</html>
