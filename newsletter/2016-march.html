<!doctype html>
<html class="no-js">
  <head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Trailblazer: Newsletter March 2016</title>
<meta name="description" content="Newsletter March 2016 - Trailblazer" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="keywords" content=", " />

<link href="//fonts.googleapis.com/css?family=Open+Sans:300, 400,700,800|Raleway:400,200,700" rel="stylesheet" type="text/css">

<link rel="stylesheet" href="/css/style.css" />
<link rel="shortcut icon" href="/favicon.ico">

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css">

<script src="/javascripts/jquery.min.js"></script>
<script src="/javascripts/application.min.js"></script>

<script>
  jQuery(document).ready(function($) {
    $(document).foundation();

    anchors.add(".code-content h2, .sub-section h2");

    hljs.initHighlightingOnLoad();

    $('#code-slider').slick({arrows: true, dots: true});
  });
</script>



<meta property="og:title" content="Newsletter March 2016"/>
<meta property="og:site_name" content="Trailblazer"/>
<meta property="og:url" content="http://trailblazer.to/newsletter/2016-march.html"/>
<meta property="og:description" content="March 2016 newsletter talks about coercion in Reform using Dry-Types, the nilify feature, compositional aspects in operations and presentations in Europe in Feburary."/>
<meta property="og:image" content="http://trailblazer.to/images/go-trailblazer.jpg"/>
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@apotonick">
<meta name="twitter:title" content="Newsletter March 2016">
<meta name="twitter:description" content="March 2016 newsletter talks about coercion in Reform using Dry-Types, the nilify feature, compositional aspects in operations and presentations in Europe in Feburary.">
<meta name="twitter:image" content="http://trailblazer.to/images/go-trailblazer.jpg">


  </head>

  <body>
    <!-- Top Bar -->
    <nav class="top-bar" data-topbar role="navigation">
  <ul class="title-area">
    <li class="name">
      <h1><a href="/"><img style="height: 25px;" src="/images/logo-top.svg"></a></h1>
    </li>
    <li class="toggle-topbar menu-icon"><a href="#"><span>Menu</span></a></li>
  </ul>

  <section class="top-bar-section">
    <ul class="right">
    <li id="nav-pro">
      <a href="https://trbpro.herokuapp.com/">PREMIUM SUPPORT <img alt="Premium Support" src="/images/pro-white.png"></a>
    </li>
    <li class="divider"></li>
    <li><a href="/newsletter/">NEWSLETTER</a></li>
    <li class="divider"></li>
    <li><a href="https://gitter.im/trailblazer/chat" onclick="trackOutboundLink('https://gitter.im/trailblazer/chat'); return false;">CHAT</a></li>
    <li class="divider"></li>
    <li><a href="/users.html">USERS</a></li>
    <li class="divider"></li>
    <li><a href="/guides">GUIDES</a></li>
    <li class="divider"></li>
      <li class="has-dropdown">
        <a href="#">GEMS</a>
        <ul class="dropdown">
          <li class=""><a href="/gems/cells">CELLS</a></li>
          <li class=""><a href="/gems/operation">OPERATION</a></li>
          <li class=""><a href="/gems/reform">REFORM</a></li>
          <li class=""><a href="/gems/representable">REPRESENTABLE</a></li>
          <li class=""><a href="/gems/roar">ROAR</a></li>
          <li class=""><a href="/gems/disposable">DISPOSABLE</a></li>
        </ul>
      </li>
      <li class="divider"></li>
      <li class="has-form">
        <a href="https://leanpub.com/trailblazer" class="button radius secondary" onclick="trackOutboundLink('https://leanpub.com/trailblazer'); return false;">GET THE BOOK</a>
      </li>
    </ul>
  </section>
</nav>


    <section class="marketing-book book">
  <div class="row">
    <div class="columns">
      <div class="row">
        <div class="columns medium-9 medium-centered">
          <h1 id="march-2016">March 2016</h1>

<p>Greetings, fellow Trailblazers!</p>

<p>It’s been nearly two months since the last newsletter! My apologies, but I was busy traveling in Europe, seeing family and many friends, and giving some Trailblazer presentations. I am back in Australia now and the Github repositories are smoking, again!</p>

<h2 id="trailblazer-on-facebook">Trailblazer on Facebook</h2>

<p>Yes, even though I refuse to use higher technology, I love Facebook! Only just now I created a Facebook page for Trailblazer. We will post upcoming event notifications such as talks and workshops, funny photos, and more entertaining content. Please <a href="https://facebook.com/trbinc">“like” us</a>!</p>

<h2 id="rcau16">RCAU16</h2>

<div style="margin-bottom: 160px;">
<div style="float:left; width: 200px;">
<img src="https://scontent-syd1-1.xx.fbcdn.net/hphotos-xtf1/v/t1.0-9/12931127_1123064391061744_8244347931411963903_n.jpg?oh=27a00170285bf4cb008dd55e431aff7c&amp;oe=57985FBE" width="160" />

The main organizer - a man with a vision.
</div>

<p>
I've had a fantastic time giving a full-day Trailblazer workshop at RubyConf Australia 2016. In a room with 15 highly motivated Rubyists, we managed to implement a shopping cart application. As we all found the <a href="https://github.com/apotonick/trb-cart">cart example</a> a very understandable way to show all the goodies in TRB, I am considering using it for the upcoming Trailblazer Primer book.
</p>

  <p>
The conference itself was amazing and I think everybody really enjoyed the talks, the fantastic Aussie Weather™, the snacks, great food and the afterparties! Much love!
</p>

</div>

<div />

<h2 id="europe-talks">Europe Talks</h2>

<p>On my Europe trip in February, I got invited to a handful of Ruby meetups where I had the honour to present Trailblazer. Those talks went really well, and I was very happy about many people showing up. Meetups took place in Cologne, Brussels, Groningen (a beautiful small city in the north of the Netherlands) and Berlin.</p>

<p>A incredibly big <em>Thank You!</em> to the organizers of the meetups, I felt very welcome and always enjoyed the delicious beers afterwards!</p>

<p><img src="https://fbcdn-sphotos-e-a.akamaihd.net/hphotos-ak-xaf1/t31.0-8/12891790_1120902187944631_1061140847022920590_o.jpg" width="600" /></p>

<h2 id="coercion-in-reform-with-dry-types">Coercion in Reform with Dry-Types</h2>

<p>With the deprecation of the Virtus gem, we now use the excellent <a href="https://github.com/dry-rb/dry-types">dry-types</a> gem for coercion in Disposable and Reform. The API has changed slightly, as Dry-types has new type constants.</p>

<div class="language-ruby highlighter-rouge"><pre class="highlight"><code><span class="k">class</span> <span class="nc">AlbumForm</span> <span class="o">&lt;</span> <span class="no">Reform</span><span class="o">::</span><span class="no">Form</span>
  <span class="n">feature</span> <span class="no">Coercion</span>

  <span class="n">property</span> <span class="ss">:id</span><span class="p">,</span> <span class="ss">type: </span><span class="no">Types</span><span class="o">::</span><span class="no">Form</span><span class="o">::</span><span class="no">Int</span>
<span class="k">end</span>
</code></pre>
</div>

<p>Simple, isn’t it?</p>

<p>The <code class="highlighter-rouge">:type</code> option will instruct Reform to override the <code class="highlighter-rouge">#id=</code> setter and coerce the value to integer.</p>

<div class="language-ruby highlighter-rouge"><pre class="highlight"><code><span class="n">form</span><span class="p">.</span><span class="nf">id</span> <span class="o">=</span> <span class="s2">"1"</span>
<span class="n">form</span><span class="p">.</span><span class="nf">id</span> <span class="c1">#=&gt; 1</span>
</code></pre>
</div>

<p>The coercion semantics are explained in the brand-new <a href="http://trailblazer.to/gems/disposable/api.html">Disposable API docs</a>.</p>

<p>Thanks to Ralf Schmitz Bongiolo and Piotr Solnica for their fantastic work on that.</p>

<h2 id="nilify-for-reform">Nilify for Reform</h2>

<p>A long-awaited feature is the “nilify” coercion. It finally is implemented in Disposable 0.3.0 using Dry-types.</p>

<p>The <code class="highlighter-rouge">:nilify</code> option will coerce blank strings into <code class="highlighter-rouge">nil</code>, saving you from annoying persistence layer errors when your ORM tries to save blank strings to associations, and so on.</p>

<div class="language-ruby highlighter-rouge"><pre class="highlight"><code><span class="n">property</span> <span class="ss">:id</span><span class="p">,</span> <span class="ss">nilify: </span><span class="kp">true</span>
</code></pre>
</div>

<div class="language-ruby highlighter-rouge"><pre class="highlight"><code><span class="n">form</span><span class="p">.</span><span class="nf">id</span> <span class="o">=</span> <span class="s2">""</span>
<span class="n">form</span><span class="p">.</span><span class="nf">id</span> <span class="c1">#=&gt; nil</span>
</code></pre>
</div>

<p>The nilify feature also works in combination with other coercion types!</p>

<h2 id="compositional-contracts-in-trailblazer">Compositional Contracts in Trailblazer</h2>

<p>With the upcoming Trailblazer 1.2, it is now easily possible to maintain contracts using the <code class="highlighter-rouge">Composition</code> feature, and to inject additional options. This either works by overriding <code class="highlighter-rouge">Operation#contract!</code> or by using <code class="highlighter-rouge">#contract</code> directly in the operation.</p>

<div class="language-ruby highlighter-rouge"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Create</span> <span class="o">&lt;</span> <span class="no">Trailblazer</span><span class="o">::</span><span class="no">Operation</span>
  <span class="n">model</span> <span class="no">Song</span>

  <span class="n">contract</span> <span class="k">do</span>
    <span class="kp">include</span> <span class="no">Reform</span><span class="o">::</span><span class="no">Form</span><span class="o">::</span><span class="no">Composition</span>

    <span class="n">property</span> <span class="ss">:id</span><span class="p">,</span>         <span class="ss">on: :song</span>
    <span class="n">property</span> <span class="ss">:album_name</span><span class="p">,</span> <span class="ss">on: :album</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">process</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>
    <span class="n">contract</span><span class="p">(</span><span class="ss">song: </span><span class="n">model</span><span class="p">,</span> <span class="ss">album: </span><span class="n">model</span><span class="p">.</span><span class="nf">album</span><span class="p">)</span>

    <span class="n">validate</span> <span class="k">do</span>
      <span class="c1"># ..</span>
    <span class="k">end</span>
  <span class="k">end</span>
</code></pre>
</div>

<p>The <code class="highlighter-rouge">contract</code> method now memoizes its return value (but only if desired) and provides an easy way for more complex contract setup. Note that you can also override <code class="highlighter-rouge">#contract!</code>. We’re hoping this will help developers to leverage the compositional features of Disposable/Reform better.</p>

<h2 id="separate-representers-for-operation">Separate Representers For Operation</h2>

<p>So far, when using the <code class="highlighter-rouge">Representer</code> feature in an operation, the same representer was used for parsing input and rendering the response document.</p>

<p>This is now separated - you can either include <code class="highlighter-rouge">Representer</code> and get the old behavior, or only include either <code class="highlighter-rouge">Representer::Rendering</code> to use the representer for serialization, or include <code class="highlighter-rouge">Representer::Deserializer</code> to parse incoming data using the representer.</p>

<p>The details are documented in <a href="http://trailblazer.to/gems/operation/representer.html#input-and-output-representers">our documentation</a>.</p>

<p>Going further, in Trailblazer 1.2, you will be able to specify an arbitrary number of representers using aliases, the same way we already do it with callback objects.</p>

<div class="language-ruby highlighter-rouge"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Create</span> <span class="o">&lt;</span> <span class="no">Trailblazer</span><span class="o">::</span><span class="no">Operation</span>
  <span class="kp">include</span> <span class="no">Representer</span>

  <span class="n">representer</span> <span class="ss">:parser</span> <span class="k">do</span>
    <span class="n">property</span> <span class="ss">:id</span>
  <span class="k">end</span>

  <span class="n">representer</span> <span class="ss">:renderer</span><span class="p">,</span> <span class="no">Renderer</span><span class="o">::</span><span class="no">Create</span>
</code></pre>
</div>

<p>As many users have asked for separation of input and output representers, we decided to ship it in Trailblazer 1.2</p>

<h2 id="inheritance-fix-in-reformdisposable">Inheritance Fix in Reform/Disposable</h2>

<p>An annoying problem that occured with Reform 2.1 was that when inheriting forms, custom accessors were reset and had to be redefined. This is fixed with Disposable 0.2.6. The problem was actually located in the <a href="https://github.com/apotonick/declarative">Declarative</a> gem that provides DSL and inheritance mechanics to all TRB gems.</p>

<p>Another related bug was fixed in Reform. When using <code class="highlighter-rouge">Form::Module</code>, accessors were overridden, too. You now have to put custom accessors into the <code class="highlighter-rouge">InstanceMethods</code> module and everything will work as expected.</p>

<div class="language-ruby highlighter-rouge"><pre class="highlight"><code><span class="k">module</span> <span class="nn">SongForm</span>
  <span class="kp">include</span> <span class="no">Reform</span><span class="o">::</span><span class="no">Form</span><span class="o">::</span><span class="no">Module</span>

  <span class="n">property</span> <span class="ss">:title</span>

  <span class="k">module</span> <span class="nn">InstanceMethods</span>
    <span class="k">def</span> <span class="nf">title</span><span class="o">=</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
      <span class="k">super</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="nf">trim</span><span class="p">)</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre>
</div>

<p>The complete documentation can be found <a href="http://trailblazer.to/gems/reform/api.html#forms-in-modules">here</a>. If you’re still experiencing problems (I’m pretty sure everything is fixed, though), let us know!</p>

<h2 id="see-you-soon">See you soon!</h2>

<p>That is it for March, I am looking forward to see you soon with exciting news about the growing Trailblazer ecosystem. Cheers!</p>

        </div>
      </div>
    </div>
  </div>
</section>

    <!-- Footer -->
<section class="sub-section top-footer">
  <div class="row">
	<div class="columns medium-6">
		<h3>Newsletter</h3>
		<p>
			Stay on top of what’s happening in Trailblazer.
		</p>
			<div class="row">
				<div id="mc_embed_signup">
		     	<form action="//trailblazerb.us8.list-manage.com/subscribe/post?u=bbe5021ab6fbdc94a16f0d036&amp;id=a69f6e4652" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>

						<div class="columns large-9 medium-12 ">
							<div class="row collapse prefix-radius">
				        <div class="small-8 medium-7 large-8 columns">
				        	<div id="mc_embed_signup_scroll">
				        		<div class="mc-field-group">
									  	<input type="email" value="" name="EMAIL" class="required email" id="mce-EMAIL" placeholder="youremail@trailblazer.to">
									  </div>
									  <div id="mce-responses" class="clear">
									    <div class="response" id="mce-error-response" style="display:none"></div>
									    <div class="response" id="mce-success-response" style="display:none"></div>
									  </div>    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
									  <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_bbe5021ab6fbdc94a16f0d036_a69f6e4652" tabindex="-1" value=""></div>

				        	</div>
				        </div>
				        <div class="small-4 medium-5 large-4 columns">
				          <input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button postfix secondary">
				        </div>
				      </div>
						</div>
					</form>
				</div>
				<script type='text/javascript' src='//s3.amazonaws.com/downloads.mailchimp.com/js/mc-validate.js'></script><script type='text/javascript'>(function($) {window.fnames = new Array(); window.ftypes = new Array();fnames[0]='EMAIL';ftypes[0]='email';fnames[1]='FNAME';ftypes[1]='text';fnames[2]='LNAME';ftypes[2]='text';}(jQuery));var $mcj = jQuery.noConflict(true);</script>
			</div>
		<p>
			And check out the <a href="/newsletter/">archive of newsletters</a>!
		</p>


	</div>
	<div class="columns medium-6">
		<h3>The Book</h3>
		<p>Learn how to build a Rails app with Trailblazer, step-by-step.</p>
		<a href="/books/trailblazer.html" class="button radius tiny secondary">Check Out Book!</a>
	</div>
</div>


</section>

<footer>
  <div class="row">
    <div class="columns medium-4">
      <div class="logo-box">
        <a href="/"><img src="/images/icon_trb.png">
        </a>
      </div>
    </div>
    <div class="columns medium-8">
      <div class="row">
        <div class="columns medium-6">
          <h4>
            Trailblazer
          </h4>
          <ul class="no-bullet">
            <li><a href="https://gitter.im/trailblazer/chat">Gitter chat</a></li>
            <li><a href="https://leanpub.com/trailblazer">The book</a></li>
          </ul>
        </div>
        <div class="columns medium-6">
          <h4>
            Follow Us
          </h4>
          <ul class="inline-list">
            <li>
              <a href="https://github.com/trailblazer">
                <i class="footer-icon github-icon"></i>
              </a>
            </li>
            <li>
              <a href="https://twitter.com/apotonick">
                <i class="footer-icon twitter-icon"></i>
              </a>
            </li>
            <li>
              <a href="https://facebook.com/trbinc">
                <i class="footer-icon facebook-icon"></i>
              </a>
            </li>
          </ul>
        </div>
      </div>
      <p class="copyright">
        Trailblazer is created by <a href="https://github.com/apotonick">Nick Sutterer</a> and awesome friends.
      </p>
      <p class="copyright">
        Site designed and handcoded with love by <a href="https://twitter.com/noeliacabane">Noelia Cabane</a>
      </p>
    </div>
  </div>
</footer>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-69514939-1', 'auto');
  ga('send', 'pageview');

  /**
  * Function that tracks a click on an outbound link in Analytics.
  * This function takes a valid URL string as an argument, and uses that URL string
  * as the event label. Setting the transport method to 'beacon' lets the hit be sent
  * using 'navigator.sendBeacon' in browser that support it.
  */
  var trackOutboundLink = function(url) {
     ga('send', 'event', 'outbound', 'click', url, {
       'transport': 'beacon',
       'hitCallback': function(){document.location = url;}
     });
  }
</script>



  </body>
</html>
